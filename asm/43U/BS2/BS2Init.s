.include "macros.inc"
.file "BS2Init.c"

# 0x8137AEA4..0x8137AFB4 | size: 0x110
.text
.balign 4

# .text:0x0 | 0x8137AEA4 | size: 0x38
.fn ClearOtherBATs, local
/* 8137AEA4 000492A4  4C 00 01 2C */	isync
/* 8137AEA8 000492A8  38 80 00 00 */	li r4, 0x0
/* 8137AEAC 000492AC  7C 9D 83 A6 */	mtdbatl 2, r4
/* 8137AEB0 000492B0  7C 9C 83 A6 */	mtdbatu 2, r4
/* 8137AEB4 000492B4  7C 9F 83 A6 */	mtdbatl 3, r4
/* 8137AEB8 000492B8  7C 9E 83 A6 */	mtdbatu 3, r4
/* 8137AEBC 000492BC  7C 93 83 A6 */	mtibatl 1, r4
/* 8137AEC0 000492C0  7C 92 83 A6 */	mtibatu 1, r4
/* 8137AEC4 000492C4  7C 95 83 A6 */	mtibatl 2, r4
/* 8137AEC8 000492C8  7C 94 83 A6 */	mtibatu 2, r4
/* 8137AECC 000492CC  7C 97 83 A6 */	mtibatl 3, r4
/* 8137AED0 000492D0  7C 96 83 A6 */	mtibatu 3, r4
/* 8137AED4 000492D4  4C 00 01 2C */	isync
/* 8137AED8 000492D8  4E 80 00 20 */	blr
.endfn ClearOtherBATs

# .text:0x38 | 0x8137AEDC | size: 0xD8
.fn BS2Init, global
/* 8137AEDC 000492DC  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8137AEE0 000492E0  7C 08 02 A6 */	mflr r0
/* 8137AEE4 000492E4  3C 60 80 00 */	lis r3, 0x8000
/* 8137AEE8 000492E8  38 80 00 00 */	li r4, 0x0
/* 8137AEEC 000492EC  90 01 00 14 */	stw r0, 0x14(r1)
/* 8137AEF0 000492F0  38 A0 01 00 */	li r5, 0x100
/* 8137AEF4 000492F4  93 E1 00 0C */	stw r31, 0xc(r1)
/* 8137AEF8 000492F8  4B FB 54 3D */	bl memset
/* 8137AEFC 000492FC  3F E0 80 00 */	lis r31, 0x8000
/* 8137AF00 00049300  38 80 00 00 */	li r4, 0x0
/* 8137AF04 00049304  38 7F 30 00 */	addi r3, r31, 0x3000
/* 8137AF08 00049308  38 A0 01 00 */	li r5, 0x100
/* 8137AF0C 0004930C  4B FB 54 29 */	bl memset
/* 8137AF10 00049310  4B FF FF 95 */	bl ClearOtherBATs
/* 8137AF14 00049314  39 20 00 00 */	li r9, 0x0
/* 8137AF18 00049318  38 E0 00 21 */	li r7, 0x21
/* 8137AF1C 0004931C  91 3F 00 30 */	stw r9, 0x30(r31)
/* 8137AF20 00049320  3C C0 CC 00 */	lis r6, 0xcc00
/* 8137AF24 00049324  38 A0 00 80 */	li r5, 0x80
/* 8137AF28 00049328  38 80 01 13 */	li r4, 0x113
/* 8137AF2C 0004932C  81 1F 31 00 */	lwz r8, 0x3100(r31)
/* 8137AF30 00049330  38 60 FF FF */	li r3, -0x1
/* 8137AF34 00049334  38 00 00 01 */	li r0, 0x1
/* 8137AF38 00049338  91 1F 00 28 */	stw r8, 0x28(r31)
/* 8137AF3C 0004933C  90 FF 00 2C */	stw r7, 0x2c(r31)
/* 8137AF40 00049340  80 C6 30 2C */	lwz r6, 0x302c(r6)
/* 8137AF44 00049344  54 C6 27 3E */	srwi r6, r6, 28
/* 8137AF48 00049348  38 C6 00 21 */	addi r6, r6, 0x21
/* 8137AF4C 0004934C  90 DF 00 2C */	stw r6, 0x2c(r31)
/* 8137AF50 00049350  91 1F 00 F0 */	stw r8, 0xf0(r31)
/* 8137AF54 00049354  91 3F 31 0C */	stw r9, 0x310c(r31)
/* 8137AF58 00049358  91 3F 31 10 */	stw r9, 0x3110(r31)
/* 8137AF5C 0004935C  98 BF 31 5C */	stb r5, 0x315c(r31)
/* 8137AF60 00049360  B0 9F 31 5E */	sth r4, 0x315e(r31)
/* 8137AF64 00049364  90 6D B0 D4 */	stw r3, __PADFixBits@sda21(r0)
/* 8137AF68 00049368  90 0D AF 98 */	stw r0, __OSInIPL@sda21(r0)
/* 8137AF6C 0004936C  48 1B 05 45 */	bl __OSFPRInit
/* 8137AF70 00049370  38 60 00 00 */	li r3, 0x0
/* 8137AF74 00049374  48 1B 04 21 */	bl PPCMtmmcr0
/* 8137AF78 00049378  38 60 00 00 */	li r3, 0x0
/* 8137AF7C 0004937C  48 1B 04 21 */	bl PPCMtmmcr1
/* 8137AF80 00049380  38 60 00 00 */	li r3, 0x0
/* 8137AF84 00049384  48 1B 04 21 */	bl PPCMtpmc1
/* 8137AF88 00049388  38 60 00 00 */	li r3, 0x0
/* 8137AF8C 0004938C  48 1B 04 21 */	bl PPCMtpmc2
/* 8137AF90 00049390  38 60 00 00 */	li r3, 0x0
/* 8137AF94 00049394  48 1B 04 21 */	bl PPCMtpmc3
/* 8137AF98 00049398  38 60 00 00 */	li r3, 0x0
/* 8137AF9C 0004939C  48 1B 04 21 */	bl PPCMtpmc4
/* 8137AFA0 000493A0  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8137AFA4 000493A4  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 8137AFA8 000493A8  7C 08 03 A6 */	mtlr r0
/* 8137AFAC 000493AC  38 21 00 10 */	addi r1, r1, 0x10
/* 8137AFB0 000493B0  4E 80 00 20 */	blr
.endfn BS2Init
